rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Books storage
    // Note: Storage rules cannot query Firestore to check roles,
    // so we allow authenticated users to read/write and rely on
    // application-level security and Firestore rules for access control
    match /books/{allPaths=**} {
      // Any authenticated user can read (admins need to view all books)
      allow read: if request.auth != null;
      
      // Any authenticated user can write (admins need to upload reports)
      allow write: if request.auth != null;
    }
  }
}

